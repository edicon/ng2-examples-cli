{"version":3,"file":"draggable.directive.js","sourceRoot":"","sources":["draggable.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Directive,\n  ElementRef,\n  Input,\n  Output,\n  OnInit\n} from '@angular/core';\n\n\n@Directive({\n  selector: '[uiDraggable]',\n  host: {\n    '(mouseleave)': 'onMouseLeave($event)',\n    '(mouseenter)': 'onMouseEnter($event)',\n    '(mousedown)': 'onMouseDown($event)',\n    '(mouseup)': 'onMouseUp($event)',\n    '(mousemove)': 'onMouseMove($event)',\n    '(touchstart)': 'onMouseDown($event)',\n    '(touchend)': 'onMouseUp($event)'\n  }\n})\n\nexport class DraggableDirective implements OnInit {\n\n  public elem: any;\n  public handle: any;\n  public startX: number;\n  public startY: number;\n  public newX: number;\n  public newY: number;\n  public joystickPos: number[];\n  public target: any;\n  public touchItem: any;\n  public height: number;\n  public width: number;\n  public isActive: boolean;\n  public isPositionable: boolean;\n  public rect: any;\n\n  constructor(private el: ElementRef) {\n    this.elem = el.nativeElement;\n  }\n\n  @Input('uiDraggable') options: any;\n\n  onMouseLeave() {\n    this.isPositionable = false;\n  }\n\n  onMouseEnter() {\n    if (this.isActive) {\n      this.isPositionable = true;\n    }\n  }\n\n  onMouseDown(e) {\n    e.preventDefault();\n\n    this.isActive = true;\n    this.isPositionable = true;\n\n    this.startX = e.clientX - this.elem.offsetLeft;\n    this.startY = e.clientY - this.elem.offsetTop;\n\n    if ('ontouchstart' in document.documentElement) {\n      this.elem.addEventListener('touchmove', this.onTouchMove.bind(this));\n      this.elem.addEventListener('touchend', this.onMouseUp.bind(this));\n    } else {\n      this.elem.addEventListener('mousemove', this.onMouseMove.bind(this));\n      this.elem.addEventListener('mouseup', this.onMouseUp.bind(this));\n      window.addEventListener('mousemove', this.onMouseMove.bind(this));\n      window.addEventListener('mouseup', this.onMouseUp.bind(this));\n    }\n\n    if ('ontouchstart' in document.documentElement) {\n      e.preventDefault();\n\n      if (this.touchItem === undefined) {\n        this.touchItem = e.touches.length - 1; // make this touch = the latest touch in the touches list instead of using event\n      }\n\n      this.newX = e.touches[this.touchItem].pageX - this.rect.left - (this.handle.clientWidth / 2);\n      this.newY = e.touches[this.touchItem].pageY - this.rect.top - (this.handle.clientWidth / 2);\n\n    } else {\n\n      this.newX = e.offsetX;\n      this.newY = e.offsetY;\n\n    }\n\n    this.setPosition(this.newX, this.newY);\n\n  }\n\n  // Handle drag event\n  onTouchMove(e) {\n\n    e.preventDefault();\n\n    if (this.options.orient === 'is--joystick') {\n      this.elem.style.cursor = 'url(\"/assets/ui/slider-control-icon-transparent-cursor.png\") 0 0, pointer';\n    }\n\n    this.elem.style.border = '1px solid rgba(255,255,255,0.3)';\n    this.handle.style.opacity = '0.5';\n\n    if (this.touchItem === undefined) {\n      this.touchItem = e.touches.length - 1; // make this touch = the latest touch in the touches list instead of using event\n    }\n\n    this.newX = e.touches[this.touchItem].pageX - this.rect.left - 22;\n    this.newY = e.touches[this.touchItem].pageY - this.rect.top - 66;\n\n    this.setPosition(this.newX, this.newY);\n\n    if (this.options.orient === 'is--hor') {\n      this.options.currentValue = this.scale(this.newX, 0, this.elem.clientWidth - 44, this.options.min, this.options.max);\n    } else if (this.options.orient === 'is--vert') {\n      this.options.currentValue = this.scale(this.newY, 0, this.elem.clientHeight - 44, this.options.min, this.options.max);\n    } else if (this.options.orient === 'is--joystick') {\n      this.options.currentValue = [this.scale(this.newX, 0, this.elem.clientWidth - 44, this.options.min[0], this.options.max[0]),\n        this.scale(this.newY, 0, this.elem.clientHeight - 44, this.options.min[1], this.options.max[1])\n      ];\n    }\n\n    if (this.options.onUpdate) {\n      this.options.onUpdate.emit(this.options.currentValue, e.timeStamp);\n    }\n\n  }\n\n  onMouseMove(e) {\n\n    if (this.options.orient === 'is--joystick') {\n      this.elem.style.cursor = 'url(\"/assets/ui/slider-control-icon-transparent-cursor.png\") 0 0, pointer';\n    } \n    \n    if(this.isActive) {\n      this.elem.style.border = '1px solid rgba(255,255,255,0.3)';\n      this.handle.style.opacity = '0.5';\n      this.newX = e.offsetX;\n      this.newY = e.offsetY;\n    }\n\n    if (this.isPositionable && this.isActive) {\n\n      this.setPosition(this.newX, this.newY);\n\n\n      if (this.options.orient === 'is--hor') {\n        this.options.currentValue = this.scale(this.newX, 0, this.elem.clientWidth - 44, this.options.min, this.options.max);\n      } else if (this.options.orient === 'is--vert') {\n        this.options.currentValue = this.scale(this.newY, 0, this.elem.clientHeight - 44, this.options.min, this.options.max);\n      } else if (this.options.orient === 'is--joystick') {\n        this.options.currentValue = [this.scale(this.newX, 0, this.elem.clientWidth - 44, this.options.min[0], this.options.max[0]),\n          this.scale(this.newY, 0, this.elem.clientHeight - 44, this.options.min[1], this.options.max[1])\n        ];\n      }\n\n      if (this.options.onUpdate) {\n        this.options.onUpdate.emit(this.options.currentValue, e.timeStamp);\n      }\n\n    }\n\n\n  }\n\n\n  // Unbind drag events\n  onMouseUp(e) {\n\n\n    this.isActive = false;\n\n    this.elem.style.cursor = 'url(\"/assets/ui/slider-control-icon-transparent-cursor.png\") 22 22, pointer';\n    this.elem.style.border = '1px solid rgba(255,255,255,0.2)';\n    this.handle.style.opacity = '';\n    \n\n    if (this.options.orient === 'is--hor') {\n      this.options.currentValue = 0;\n    } else if (this.options.orient === 'is--vert') {\n      this.options.currentValue = 0;\n    } else if (this.options.orient === 'is--joystick') {\n      this.options.currentValue = [0,0];\n    }\n    \n    // TODO: set cancel flag? these value just happen to work b/c of current min and max\n\n    if ('ontouchstart' in document.documentElement) {\n      this.touchItem = undefined;\n    } else {\n      this.elem.removeEventListener('mousemove', this.onMouseMove.bind(this));\n      this.elem.removeEventListener('mouseup', this.onMouseUp.bind(this));\n    }\n    \n    \n\n\n    if (this.options.onUpdate) {\n      this.options.onUpdate.emit(this.options.currentValue, e.timeStamp);\n    }\n\n  }\n\n  // Get Center of Circle\n  getCenter(xRange, yRange) {\n\n    var cX = xRange[1] - ((xRange[1] - xRange[0]) / 2);\n    var cY = yRange[1] - ((yRange[1] - yRange[0]) / 2);\n    return [cX, cY];\n\n  }\n\n  // Distance Between Two Points\n  distance(dot1, dot2) {\n    var x1 = dot1[0],\n      y1 = dot1[1],\n      x2 = dot2[0],\n      y2 = dot2[1];\n    return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n  }\n\n  // convert between two ranges, for outputting user value\n\n  scale(v, min, max, gmin, gmax) {\n\n    return ((v - min) / (max - min)) * (gmax - gmin) + gmin;\n\n  }\n  \n  // Find if cursor is within radius of elem\n  \n  circularBounds(x, y, xRange, yRange) {\n\n    var center = this.getCenter(xRange, yRange);\n    var dist = this.distance([x, y], center);\n    var radius = xRange[1] - center[0];\n\n    if (dist <= radius) {\n\n      return [x, y];\n    } else {\n      x = x - center[0];\n      y = y - center[1];\n      var radians = Math.atan2(y, x);\n      return [Math.cos(radians) * radius + center[0], Math.sin(radians) * radius + center[1]];\n\n    }\n\n  }\n\n  clamp(value, range) {\n    return Math.max(Math.min(value, range[1]), range[0]);\n  }\n\n  // Move handle, within elem\n  setPosition(x, y) {\n\n    if (this.options.orient === 'is--joystick') {\n\n      if (x <= 0) {\n        this.newX = 0;\n      } else if (x > this.elem.clientWidth) {\n        this.newX = this.elem.clientWidth;\n      } else {\n        this.newX = x;\n      }\n\n      if (y <= 0) {\n        this.newY = 0;\n      } else if (y > this.elem.clientWidth) {\n        this.newY = this.elem.clientWidth;\n      } else {\n        this.newY = y;\n      }\n\n      this.joystickPos = this.circularBounds(this.newX, this.newY, [0, this.elem.clientWidth - this.handle.offsetWidth], [0, this.elem.clientWidth - this.handle.offsetHeight]);\n      this.newX = this.clamp(this.joystickPos[0], [0, this.elem.clientWidth - this.handle.offsetWidth]);\n      this.newY = this.clamp(this.joystickPos[1], [0, this.elem.clientWidth - this.handle.offsetHeight]);\n\n      //this.options.node.translate = [this.newX, this.newY, 1];\n      this.options.pos.emit([this.newX + 'px', this.newY + 'px', 1 + 'px']);\n      //TODO: figure out why width and height need to be hardcoded.\n\n    } else {\n\n      if (x <= 0) {\n        this.newX = 0;\n      } else if (x > this.elem.clientWidth - this.handle.offsetWidth) {\n        this.newX = this.elem.clientWidth - this.handle.offsetWidth;\n      } else {\n        this.newX = x;\n      }\n\n      if (y <= 0) {\n        this.newY = 0;\n      } else if (y > this.elem.clientHeight - this.handle.offsetHeight) {\n        this.newY = this.elem.clientHeight - this.handle.offsetHeight;\n      } else {\n        this.newY = y;\n      }\n\n      this.options.pos.emit([this.newX + 'px', this.newY + 'px', 1 + 'px']);\n      //  this.options.node.translate = [newX, newY, 1];\n    }\n\n\n  }\n\n  ngOnInit() {\n\n    this.handle = this.elem.getElementsByClassName('ui--slider-handle')[0];\n    this.height = this.elem.clientHeight;\n    this.width = this.elem.clientWidth;\n    this.rect = this.elem.getBoundingClientRect(); //TODO: use Ruler Service instead.\n\n    if (this.options.orient === 'is--joystick') {\n      this.options.pos.emit(['50%', '50%', '1px']);\n    }\n    \n    //TODO init based on this.options.currentValue\n    \n  }\n\n}"]}